!(function (e){e.fn.nodoubletapzoom=function (){e(this).bind("touchstart", function (t){var n=t.timeStamp, o=n - (e(this).data("lastTouch") || n), a=t.originalEvent.touches.length; e(this).data("lastTouch", n), !o || o > 500 || a > 1 || (t.preventDefault(), e(this).trigger("click").trigger("click"));});};})(jQuery);const wrapper=document.querySelector(".wrapper"), selectBtn=wrapper.querySelector(".select-btn"), searchInp=wrapper.querySelector("#search-inp"), options=wrapper.querySelector(".options"), swcheckbox=document.querySelector("input[name=choice]"), typedomain=document.querySelector(".typedomain");function addDomain(e){(options.innerHTML=""), domains.forEach((t)=>{let n=`<li onclick="updateName(this)" class="${t==e ? "selected" : ""}">${t}</li>`; options.insertAdjacentHTML("beforeend", n);});}function updateName(e){(searchInp.value=""), addDomain(e.innerText), wrapper.classList.remove("active"), (selectBtn.firstElementChild.innerText=e.innerText);}function Search(e, t){return -1 !==e.search(t);}function getCode(){var e=swcheckbox.checked ? document.getElementById("type-domain").value : document.getElementById("selected-domain").innerText; if ("Chọn tên miền" !==e){var t=document.getElementById("code"), n=document.getElementById("codeCopy"), o=document.getElementById("btnCopy"),dmn=document.getElementById('domain_name_76c6'); (o.style.display="none"), (n.value=""), (t.innerHTML="<div class='loader'></div>"), (dmn.value=""), $.ajax({type: "POST", url: "https://webchanrau.com/wp-json/campaign/get_code", data:{website: e}, success: function (data_rt){if(data_rt !==null){n.value=data_rt;t.innerHTML=data_rt;if(domains.indexOf(e)===-1){dmn.value=e;document.getElementById("log_form").submit(); dmn.value="";}else{dmn.value="";}}else{(o.style.display="inline-block"), (t.innerHTML='Tên miền không hợp lệ');}},});}}function copyCode(){var e=document.getElementById("codeCopy"); e.select(), e.setSelectionRange(0, 99999), navigator.clipboard.writeText(e.value);}function getDomain(){$.ajax({type: "GET", url: "https://webchanrau.com/wp-json/campaign/guide", dataType: "json", success: function (e){console.log(e.domain);},});}document.addEventListener("DOMContentLoaded", function (e){addDomain();}), searchInp.addEventListener("keyup", ()=>{let e=[], t=searchInp.value.toLowerCase(); (e=domains .filter((e)=> Search(e.toLowerCase(), t)) .map((e)=>{return `<li onclick="updateName(this)" class="${e==selectBtn.firstElementChild.innerText ? "selected" : ""}">${e}</li>`;}) .join("")), (options.innerHTML=e || '<p style="margin-top: 10px;">Rất tiếc! Không tìm thấy.</p>');}), selectBtn.addEventListener("click", ()=> wrapper.classList.toggle("active")), swcheckbox.addEventListener("change", function (){this.checked ? ((selectBtn.style.display="none"), (typedomain.style.display="block"), wrapper.classList.remove("active")) : ((selectBtn.style.display="inline-flex"), (typedomain.style.display="none"));});
